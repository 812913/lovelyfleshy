<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>注册</title>
    <link rel="stylesheet" type="text/css" href="css/loginregister.css"/>
</head>
<body>
<header>
    <section class="logo">
        <a href="index.html">
            <img src="img/logo.png" alt="logo"/>
            <span>可爱多肉</span>
        </a>
    </section>
</header>
<main>
    <div>
        <section class="formnav">
            <ul>
                <li class="loginli"><img id="mailimg" src="img/log.png"/><span>可爱多肉登录</span></li>
                <li class="registerli"><img  id="vipimg" src="img/reg.png"/><span>可爱多肉注册</span></li>
            </ul>
        </section>
        <section class="formcont" id="login">
            <form name="form1" action="#">
                <input  class="teltext" id="teltext" type="text" placeholder="请输入邮箱名" onblur="loginverify1();log1result()"/>
                <input  class="pwdtext" id="pwdtext" type="password" placeholder="输入密码" onblur="loginverify2()"/>
                <p class="lrtip" id="tip1"></p>
                <p class="lrtip" id="tip2"></p>


                <input id="safebox" type="checkbox" checked/><lable  for="safebox">自动登录</lable>
                <input id="sslbox" type="checkbox"/><lable  for="sslbox">SSL安全登录</lable>
                <a id="forgetpwd" href="#">忘记密码?</a>

                <div class="tip">
                    <span>请不要在网吧或者公共电脑上使用自动登录选项</span>
                </div>

                <input class="btn" id="loginbtn" type="button" value="登录"/>
                <!--<input class="btn" id="registerbtn" type="button" value="注册"/>-->
            </form>
            <ul class="otherlogin">
                <li class="otherli1"><img id="blogimg" src="img/qql.png"/><a href="#"><span>QQ账号登录</span></a></li>
                <li class="otherli2"><img id="lightningimg" src="img/wxl.png"/><a href="#"><span>微信账号登录</span></a></li>
            </ul>
        </section>


        <section class="formcont" id="register">
            <form name="form2" action="#">
                <input class='nametext' id="rnametext" type="text" placeholder="昵称" onblur="register1();reg1result()"/>
                <input class="teltext" id="rteltext"  type="text" placeholder="请输入邮箱名" onblur="register2();reg2result()"/>
                <input class="pwdtext" id='rpwdtext' type="password" placeholder="输入密码" onblur="register3();reg3result()"/>
                <input  class="rpwdtext" id="rrpwdtext" type="password" placeholder="请重新输入密码" onblur="register4()"/>
                <p class="lrtip" id="tip3"></p>
                <p class="lrtip" id="tip4"></p>
                <p class="lrtip" id="tip5"></p>
                <p class="lrtip" id="tip6"></p>
                <!--<input class="btn" id="rloginbtn" type="button" value="登录"/>-->
                <input class="btn" id="rregisterbtn" type="button" value="注册" />
            </form>
        </section>

    </div>
</main>
<footer>
    <ul>
        <li><a href="index.html" target="_blank">多肉首页</a></li>
        <li><span>&Iota;</span></li>
        <li><a href="weitao.html" target="_blank">多肉微淘</a></li>
        <li><span>&Iota;</span></li>
        <li><a href="diary.html" target="_blank">种植日记</a></li>
        <li><span>&Iota;</span></li>
        <li><a href="baike.html" target="_blank">多肉百科</a></li>
        <li><p>翼灵物联 版权所有    Copyright ©2017&nbsp;&nbsp;All Rights Reserved</p></li>
    </ul>
</footer>
<script src="js/jquery-3.1.1.min.js"></script>
<script src="js/logreg.js"></script>
<script>
    $('#login').css('display','none');
    $('.loginli').css('background-color','rgba(238,238,238,0.6)');

    var p=document.getElementsByClassName('lrtip');
    for(var i=0;i<=p.length-1;i++){
        p[i].style.display='none';
    }
    //    登录验证和提示
    var p1=document.getElementById('tip1');
    var p2=document.getElementById('tip2');
    document.getElementById('pwdtext').disabled='true';
    function loginverify1(){
        var str1=document.getElementById('teltext').value;
        var atpos=str1.indexOf("@");
        var dotpos=str1.lastIndexOf('.');
        //意思就是说，输入的数据必须包含 @ 符号和点号(.)。同时，@ 不可以是邮件地址的首字符，并且 @ 之后需有至少一个点号：
        if(atpos<1||dotpos<atpos+2||dotpos+2>=str1.length){
            p1.style.display='block';
            p1.innerHTML='不是一个有效的Email地址';
            return false;
        }else{
            p1.style.display='none';
            return true;
        }
    }
    function log1result(){
        if(loginverify1()){
            document.getElementById('pwdtext').disabled=false;
        }
    }
    function loginverify2() {
        var log1result=loginverify1();
        if(log1result==true){
            var str2=document.getElementById('pwdtext').value;
            if(str2==''||str2==null){
                p2.style.display='block';
                p2.innerHTML='请输入密码';
                return false;
            }else{
                p2.style.display='none';
                return true;
            }
        }else{
            p2.style.display='none';
        }
    }

    //注册验证和提示
    var rname=document.getElementById('rnametext');
    var rtel=document.getElementById('rteltext');
    var rpwd=document.getElementById('rpwdtext');
    var rrpwd=document.getElementById('rrpwdtext');
    rtel.disabled=true;
    rpwd.disabled=true;
    rrpwd.disabled=true;
    var p3=document.getElementById('tip3');
    var p4=document.getElementById('tip4');
    var p5=document.getElementById('tip5');
    var p6=document.getElementById('tip6');

    function register1(){
        var   rnametext=rname.value;
        if(rnametext==''||rnametext==null){
            p3.style.display='block';
            p3.innerHTML='请输出有效用户名';
            return false;
        }else{
            p3.style.display='none';
            return true;
        }
    }
    function reg1result() {
        if(register1()==true){

            rtel.disabled=false;
        }
    }

    function register2(){
        var reg1result=register1();
        if(reg1result==true){
            var rteltext=rtel.value;
            var ratpos=rteltext.indexOf("@");
            var rdotpos=rteltext.lastIndexOf('.');
            if(ratpos<1||rdotpos<ratpos+2||rdotpos+2>=rteltext.length){
                p4.style.display='block';
                p4.innerHTML='不是一个有效的Email地址';
                return false;
            }else{
                p4.style.display='none';
                return true;
            }
        }else{
            p4.style.display='none';
        }
    }
    function reg2result() {
        if(register2()==true){
            rpwd.disabled=false;
        }
    }
    function register3(){
        var reg2result=register2();
        if(reg2result==true){
            var rpwdtext=rpwd.value;
            if(rpwdtext==''||rpwdtext==null||rpwdtext.length<=6){
                p5.style.display='block';
                p5.innerHTML='请输入不少于6位的有效密码';
                return false;
            }else{
                p5.style.display='none';
                return true;
            }
        }else{
            p5.style.display='none';
        }
    }
    function reg3result() {
        if(register3()==true){
            rrpwd.disabled=false;
        }
    }
    function register4(){
        var reg3result=register3();
        var rrpwdtext=rrpwd.value;
        if(reg3result==true){
            var rpwdtext=rpwd.value;
            if(rrpwdtext==rpwdtext){
                p6.style.display='none';
                return true;
            }
            else{
                p6.style.display='block';
                p6.innerHTML='两次输入的密码不一致';
                return false;
            }

        }else{
            p6.style.display='none';
        }
    }

</script>
</body>
</html>